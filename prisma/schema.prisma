generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["views"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model airline {
  id          Int       @id @default(autoincrement())
  airline_cn  String?   @db.VarChar(255)
  airline_en  String?   @db.VarChar(255)
  icao_code   String?   @db.VarChar(255)
  iata_code   String?   @db.VarChar(255)
  remark      String?   @db.VarChar(255)
  status      String?   @db.VarChar(255)
  create_user Int?
  create_time DateTime? @default(now()) @db.DateTime(0)
  is_delete   Boolean?  @default(false)
}

model airport {
  id          Int       @id @default(autoincrement())
  airport_cn  String?   @db.VarChar(255)
  airport_en  String?   @db.VarChar(255)
  icao_code   String?   @db.VarChar(127)
  iata_code   String?   @db.VarChar(127)
  status      String?   @default("AVAILABLE") @db.VarChar(31)
  create_user Int?
  create_time DateTime? @default(now()) @db.DateTime(0)
  is_delete   Boolean?  @default(false)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model airtype {
  id              Int             @id @default(autoincrement())
  manufacturer_cn String?         @db.VarChar(255)
  manufacturer_en String?         @db.VarChar(255)
  type            String?         @db.VarChar(255)
  sub_type        String?         @db.VarChar(255)
  icao_code       String?         @db.VarChar(255)
  status          airtype_status? @default(WAITING)
  create_user     Int?
  create_time     DateTime?       @default(now()) @db.DateTime(0)
  remark          String?         @db.Text
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model photo {
  id               Int       @id @default(autoincrement())
  status           String?   @default("WAIT SCREEN") @db.VarChar(255)
  queue            String?   @db.VarChar(255)
  upload_user_id   Int
  storage_status   String?   @default("WAIT") @db.VarChar(255)
  ac_type          String?   @db.VarChar(255)
  ac_reg           String?   @db.VarChar(255)
  ac_msn           String?   @db.VarChar(255)
  airline_id       Int?
  airport_id       Int?
  pic_type         String?   @db.VarChar(255)
  user_remark      String?   @db.VarChar(255)
  message          String?   @db.VarChar(255)
  photo_time       DateTime? @db.Date
  exif             Json?
  watermark        Json?
  upload_time      DateTime? @default(dbgenerated("(now())")) @db.Date
  screener_1       Int?
  screener_2       Int?
  need_screener_2  Boolean?
  result           String?   @default("REJECT") @db.VarChar(255)
  reason           String?   @db.VarChar(255)
  screener_message String?   @db.VarChar(255)
  is_delete        Boolean?  @default(false)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model user {
  id                  Int      @id @unique(map: "id") @default(autoincrement())
  user_email          String   @db.VarChar(120)
  username            String   @db.VarChar(50)
  password            String   @db.VarChar(256)
  role                String?  @db.VarChar(127)
  airport_id          Int?
  cover_photo_id      Int?
  allow_toga_use      Boolean? @default(true)
  allow_third_use     Boolean? @default(true)
  passing_rate        Int      @default(0) @db.TinyInt
  total_queue         Int      @default(5) @db.TinyInt
  free_queue          Int      @default(5) @db.TinyInt
  priority_queue      Int      @default(0) @db.TinyInt
  free_priority_queue Int      @default(0)
  total_photo         Int      @default(0)
  create_time         DateTime @default(now()) @db.DateTime(0)
  update_time         DateTime @default(now()) @db.DateTime(0)
  status              String?  @default("NORMAL") @db.VarChar(31)
  suspension_days     Int?     @default(0)
  is_deleted          Boolean  @default(false)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model aircraft {
  id            Int       @id @unique(map: "id") @default(autoincrement())
  msn           String?   @db.VarChar(20)
  ln            String?   @db.VarChar(20)
  reg           String    @db.VarChar(20)
  airline_id    Int?
  airline       String?   @db.VarChar(60)
  air_type      String?   @db.VarChar(25)
  delivery_date DateTime? @db.Date
  remark        String?   @db.VarChar(256)
  is_delete     Boolean   @default(false)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model notam {
  id          Int       @id @default(autoincrement())
  title       String?   @db.VarChar(255)
  content     String?   @db.Text
  create_time DateTime? @db.Timestamp(0)
  create_user Int?
  show        Boolean?
  is_delete   Boolean?
}

/// The underlying view does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
/// This view or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
view full_photo_info {
  id                Int       @id @default(0)
  status            String?   @default("WAIT SCREEN") @db.VarChar(255)
  queue             String?   @db.VarChar(255)
  message           String?   @db.VarChar(255)
  watermark         Json?
  screener_1        Int?
  screener_2        Int?
  need_screener_2   Boolean?
  result            String?   @default("REJECT") @db.VarChar(255)
  reason            String?   @db.VarChar(255)
  screener_message  String?   @db.VarChar(255)
  upload_user_id    Int
  username          String?   @db.VarChar(50)
  ac_type           String?   @db.VarChar(255)
  ac_reg            String?   @db.VarChar(255)
  ac_msn            String?   @db.VarChar(255)
  airline_id        Int?
  airport_id        Int?
  pic_type          String?   @db.VarChar(255)
  user_remark       String?   @db.VarChar(255)
  photo_time        DateTime? @db.Date
  exif              Json?
  upload_time       DateTime? @default(dbgenerated("(now())")) @db.Date
  airport_cn        String?   @db.VarChar(255)
  airport_en        String?   @db.VarChar(255)
  airport_icao_code String?   @db.VarChar(127)
  airport_iata_code String?   @db.VarChar(127)
  airline_cn        String?   @db.VarChar(255)
  airline_en        String?   @db.VarChar(255)
  airline_icao_code String?   @db.VarChar(255)
  airline_iata_code String?   @db.VarChar(255)
}

/// The underlying view does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
/// This view or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
view accept_photo {
  id                Int       @id @default(0)
  upload_user_id    Int
  username          String?   @db.VarChar(50)
  ac_type           String?   @db.VarChar(255)
  ac_reg            String?   @db.VarChar(255)
  ac_msn            String?   @db.VarChar(255)
  airline_id        Int?
  airline_cn        String?   @db.VarChar(255)
  airline_en        String?   @db.VarChar(255)
  airline_icao_code String?   @db.VarChar(255)
  airline_iata_code String?   @db.VarChar(255)
  airport_id        Int?
  pic_type          String?   @db.VarChar(255)
  user_remark       String?   @db.VarChar(255)
  photo_time        DateTime? @db.Date
  upload_time       DateTime? @default(dbgenerated("(now())")) @db.Date
  airport_cn        String?   @db.VarChar(255)
  airport_en        String?   @db.VarChar(255)
  airport_icao_code String?   @db.VarChar(127)
  airport_iata_code String?   @db.VarChar(127)
  exif              Json?
}

/// The underlying view does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
/// This view or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
view queue_photo {
  id                Int       @id @default(0)
  status            String?   @default("WAIT SCREEN") @db.VarChar(255)
  queue             String?   @db.VarChar(255)
  message           String?   @db.VarChar(255)
  screener_1        Int?
  screener_2        Int?
  reason            String?   @db.VarChar(255)
  screener_message  String?   @db.VarChar(255)
  upload_user_id    Int
  username          String?   @db.VarChar(50)
  ac_type           String?   @db.VarChar(255)
  ac_reg            String?   @db.VarChar(255)
  ac_msn            String?   @db.VarChar(255)
  airline_id        Int?
  airline_cn        String?   @db.VarChar(255)
  airline_en        String?   @db.VarChar(255)
  airline_icao_code String?   @db.VarChar(255)
  airline_iata_code String?   @db.VarChar(255)
  airport_id        Int?
  pic_type          String?   @db.VarChar(255)
  user_remark       String?   @db.VarChar(255)
  photo_time        DateTime? @db.Date
  upload_time       DateTime? @default(dbgenerated("(now())")) @db.Date
  airport_cn        String?   @db.VarChar(255)
  airport_en        String?   @db.VarChar(255)
  airport_icao_code String?   @db.VarChar(127)
  airport_iata_code String?   @db.VarChar(127)
}

enum airtype_status {
  REJECT
  AVAILABLE
  WAITING
}
