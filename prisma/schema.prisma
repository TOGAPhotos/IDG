generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["views"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model airline {
  id              Int      @id @default(autoincrement())
  airline_cn_name String?  @db.VarChar(255)
  airline_en_name String?  @db.VarChar(255)
  icao            String?  @db.VarChar(255)
  iata            String?  @db.VarChar(255)
  remark          String?  @db.VarChar(255)
  wait_for_review Boolean  @default(true)
  add_user        Int?
  is_delete       Boolean? @default(false)
}

model airport {
  id         Int      @id @default(autoincrement())
  airport_cn String?  @db.VarChar(255)
  airport_en String?  @db.VarChar(255)
  icao_code  String?  @db.VarChar(127)
  iata_code  String?  @db.VarChar(127)
  add_user   Int?
  status     String?  @default("AVAILABLE") @db.VarChar(31)
  is_delete  Boolean? @default(false)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model airtype {
  id              Int     @id @default(autoincrement())
  manufacturer_cn String? @db.VarChar(255)
  manufacturer_en String? @db.VarChar(255)
  type            String? @db.VarChar(255)
  sub_type        String? @unique(map: "airtype_pk") @db.VarChar(255)
  icao_code       String? @db.VarChar(255)
  remark          String? @db.VarChar(255)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model photo {
  id             Int       @id @default(autoincrement())
  upload_user_id Int
  ac_type        String?   @db.VarChar(255)
  ac_reg         String?   @db.VarChar(255)
  ac_msn         String?   @db.VarChar(255)
  airline        String?   @db.VarChar(255)
  airline_id     Int?
  airport_id     Int?
  pic_type       String?   @db.VarChar(255)
  user_remark    String?   @db.VarChar(255)
  photo_time     DateTime? @db.Date
  upload_time    DateTime? @db.Date
  is_delete      Boolean?  @default(false)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model user {
  id                  Int      @id @unique(map: "id") @default(autoincrement())
  user_email          String   @db.VarChar(120)
  username            String   @db.VarChar(50)
  password            String   @db.VarChar(256)
  role                String?  @db.VarChar(127)
  passing_rate        Int      @default(0) @db.TinyInt
  total_queue         Int      @default(5) @db.TinyInt
  free_queue          Int      @default(5) @db.TinyInt
  priority_queue      Int      @default(0) @db.TinyInt
  free_priority_queue Int      @default(0)
  total_photo         Int      @default(0)
  create_time         DateTime @default(now()) @db.DateTime(0)
  update_time         DateTime @default(now()) @db.DateTime(0)
  status              String?  @default("NORMAL") @db.VarChar(31)
  suspension_days     Int?     @default(0)
  is_deleted          Boolean  @default(false)
  notam               notam[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model photo_queue {
  queue_id             Int      @id @default(autoincrement())
  photo_id             Int      @unique(map: "photo_queue_pk")
  queue_type           String?  @default("NORMAL") @db.VarChar(31)
  status               String?  @default("WAIT SCREEN") @db.VarChar(127)
  message_to_screener  String?  @db.VarChar(255)
  screener_1           Int?
  screener_2           Int?
  need_senior_screener Boolean? @default(true)
  reason               String?  @db.VarChar(512)
  screener_remark      String?  @db.VarChar(255)
  result               String?  @default("REJECT") @db.VarChar(128)
  is_delete            Boolean?
}

model notam {
  id          Int       @id @default(autoincrement())
  title       String    @db.VarChar(255)
  content     String    @db.Text
  create_time DateTime? @default(now()) @db.Timestamp(0)
  create_user Int
  show        Boolean   @default(true)
  is_delete   Boolean   @default(false)
  user        user      @relation(fields: [create_user], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "create_user")

  @@index([create_user], map: "create_user")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model aircraft {
  id         Int     @id @unique(map: "id") @default(autoincrement())
  reg        String  @db.VarChar(20)
  msn        String? @db.VarChar(20)
  ln         String? @db.VarChar(20)
  airline    String? @db.VarChar(60)
  air_type   String? @db.VarChar(25)
  remark     String? @db.VarChar(256)
  is_delete  Boolean @default(false)
  airline_id Int?
}

/// The underlying view does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
/// This view or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
view accept_photo {
  photo_id          Int       @id
  upload_user_id    Int
  username          String    @db.VarChar(50)
  manufacturer_cn   String?   @db.VarChar(255)
  manufacturer_en   String?   @db.VarChar(255)
  ac_type           String?   @db.VarChar(255)
  ac_reg            String?   @db.VarChar(255)
  ac_msn            String?   @db.VarChar(255)
  airline_cn_name   String?   @db.VarChar(255)
  airline_en_name   String?   @db.VarChar(255)
  airport_iata_code String?   @db.VarChar(127)
  airport_icao_code String?   @db.VarChar(127)
  airport_cn        String?   @db.VarChar(255)
  airport_en        String?   @db.VarChar(255)
  pic_type          String?   @db.VarChar(255)
  user_remark       String?   @db.VarChar(255)
  photo_time        DateTime? @db.Date
  upload_time       DateTime? @db.Date
}

/// The underlying view does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
/// This view or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
view photo_queue_info {
  queue_id             Int       @id @default(0)
  photo_id             Int
  queue_type           String?   @default("NORMAL") @db.VarChar(31)
  status               String?   @default("WAIT SCREEN") @db.VarChar(127)
  message_to_screener  String?   @db.VarChar(255)
  screener_1           Int?
  screener_2           Int?
  need_senior_screener Boolean?  @default(true)
  reason               String?   @db.VarChar(512)
  screener_remark      String?   @db.VarChar(255)
  result               String?   @default("REJECT") @db.VarChar(128)
  upload_user_id       Int
  username             String    @db.VarChar(50)
  ac_type              String?   @db.VarChar(255)
  ac_reg               String?   @db.VarChar(255)
  ac_msn               String?   @db.VarChar(255)
  airline              String?   @db.VarChar(255)
  airport_id           Int?
  pic_type             String?   @db.VarChar(255)
  user_remark          String?   @db.VarChar(255)
  photo_time           DateTime? @db.Date
  upload_time          DateTime? @db.Date
  airport_cn           String?   @db.VarChar(255)
  airport_en           String?   @db.VarChar(255)
  icao_code            String?   @db.VarChar(127)
  iata_code            String?   @db.VarChar(127)
}

/// The underlying view does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
/// This view or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
view full_photo_info {
  queue_id            Int       @default(0)
  photo_id            Int       @id
  queue_type          String?   @default("NORMAL") @db.VarChar(31)
  status              String?   @default("WAIT SCREEN") @db.VarChar(127)
  message_to_screener String?   @db.VarChar(255)
  screener_1          Int?
  screener_2          Int?
  reason              String?   @db.VarChar(512)
  screener_remark     String?   @db.VarChar(255)
  result              String?   @default("REJECT") @db.VarChar(128)
  upload_user_id      Int
  ac_type             String?   @db.VarChar(255)
  ac_reg              String?   @db.VarChar(255)
  ac_msn              String?   @db.VarChar(255)
  airline             String?   @db.VarChar(255)
  airport_id          Int?
  pic_type            String?   @db.VarChar(255)
  user_remark         String?   @db.VarChar(255)
  photo_time          DateTime? @db.Date
  upload_time         DateTime? @db.Date
  airport_cn          String?   @db.VarChar(255)
  airport_en          String?   @db.VarChar(255)
  icao_code           String?   @db.VarChar(127)
  iata_code           String?   @db.VarChar(127)
  is_delete           Boolean?  @default(false)
}
